name: Extract Files
on: 
  workflow_dispatch:
    inputs:
      source_folder:
        description: 'Source folder'
        required: true
        default: '.'
      destination_folder:
        description: 'Destination folder'
        required: true
        default: 'extracted'

jobs:
  extract:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Extract ZIP files
      run: |
        mkdir -p ${{ inputs.destination_folder }}
        cd ${{ inputs.source_folder }}
        
        if ls *.zip 1> /dev/null 2>&1; then
          for zipfile in *.zip; do
            echo "Extracting: $zipfile"
            unzip -q "$zipfile" -d "../${{ inputs.destination_folder }}/"
          done
          echo "✅ Extraction completed!"
        else
          echo "❌ No ZIP files found"
        fi
        
    - name: Upload extracted files
      uses: actions/upload-artifact@v4
      with:
        name: extracted-files
        path: ${{ inputs.destination_folder }}/